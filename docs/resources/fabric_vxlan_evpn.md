---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "ndfc_fabric_vxlan_evpn Resource - terraform-provider-ndfc"
subcategory: ""
description: |-
  Resource to configure and manage a VXLAN EVPN Fabric
---

# ndfc_fabric_vxlan_evpn (Resource)

Resource to configure and manage a VXLAN EVPN Fabric

## Example Usage

```terraform
resource "ndfc_fabric_vxlan_evpn" "test_resource_fabric_vxlan_evpn_1" {
  fabric_name                                 = "TF_FABRIC_VXLAN_EVPN"
  aaa_remote_ip_enabled                       = false
  advertise_pip_bgp                           = false
  advertise_pip_on_border                     = true
  anycast_bgw_advertise_pip                   = false
  anycast_gw_mac                              = "2020.0000.00aa"
  anycast_rp_ip_range                         = "10.254.254.0/24"
  auto_symmetric_default_vrf                  = false
  auto_symmetric_vrf_lite                     = false
  auto_unique_vrf_lite_ip_prefix              = false
  auto_vrflite_ifc_default_vrf                = false
  bfd_auth_enable                             = false
  bfd_enable                                  = false
  bfd_ibgp_enable                             = false
  bfd_isis_enable                             = false
  bfd_ospf_enable                             = false
  bfd_pim_enable                              = false
  bgp_as                                      = "65000"
  bgp_auth_enable                             = false
  bgp_auth_key_type                           = 3
  bgp_lb_id                                   = 0
  bootstrap_enable                            = false
  bootstrap_multisubnet                       = "#Scope_Start_IP, Scope_End_IP, Scope_Default_Gateway, Scope_Subnet_Prefix"
  brownfield_network_name_format              = "Auto_Net_VNI$$VNI$$_VLAN$$VLAN_ID$$"
  brownfield_skip_overlay_network_attachments = false
  cdp_enable                                  = false
  copp_policy                                 = "strict"
  dci_subnet_range                            = "10.33.0.0/16"
  dci_subnet_target_mask                      = 30
  default_queuing_policy_cloudscale           = "queuing_policy_default_8q_cloudscale"
  default_queuing_policy_other                = "queuing_policy_default_other"
  default_queuing_policy_r_series             = "queuing_policy_default_r_series"
  dhcp_enable                                 = false
  enable_aaa                                  = false
  enable_default_queuing_policy               = false
  enable_fabric_vpc_domain_id                 = false
  enable_macsec                               = false
  enable_netflow                              = false
  enable_ngoam                                = true
  enable_nxapi                                = true
  enable_nxapi_http                           = true
  enable_pbr                                  = false
  enable_pvlan                                = false
  enable_tenant_dhcp                          = true
  enable_trm                                  = false
  enable_vpc_peer_link_native_vlan            = false
  fabric_interface_type                       = "p2p"
  fabric_mtu                                  = 9216
  fabric_vpc_qos                              = false
  fabric_vpc_qos_policy_name                  = "spine_qos_for_fabric_vpc_peering"
  feature_ptp                                 = false
  grfield_debug_flag                          = "Disable"
  hd_time                                     = 180
  host_intf_admin_state                       = true
  inband_mgmt                                 = false
  isis_auth_enable                            = false
  isis_level                                  = "level-2"
  l2_host_intf_mtu                            = 9216
  l2_segment_id_range                         = "30000-49000"
  l3_partition_id_range                       = "50000-59000"
  link_state_routing                          = "ospf"
  link_state_routing_tag                      = "UNDERLAY"
  loopback0_ip_range                          = "10.2.0.0/22"
  loopback1_ip_range                          = "10.3.0.0/22"
  mpls_handoff                                = false
  multicast_group_subnet                      = "239.1.1.0/25"
  netflow_exporter_list                       = jsonencode({ "NETFLOW_EXPORTER_LIST" : [{ "EXPORTER_NAME" : "Test2", "IP" : "10.1.1.1", "VRF" : "", "SRC_IF_NAME" : "eth1/1", "UDP_PORT" : "800" }] })
  netflow_monitor_list                        = jsonencode({ "NETFLOW_MONITOR_LIST" : [{ "MONITOR_NAME" : "Test", "RECORD_NAME" : "Test1", "EXPORTER1" : "Test2", "EXPORTER2" : "" }] })
  netflow_record_list                         = jsonencode({ "NETFLOW_RECORD_LIST" : [{ "RECORD_NAME" : "Test1", "RECORD_TEMPLATE" : "netflow_ipv4_record", "LAYER2_RECORD" : "false" }] })
  network_vlan_range                          = "2300-2999"
  nve_lb_id                                   = 1
  nxapi_https_port                            = 443
  nxapi_http_port                             = 80
  object_tracking_number_range                = "100-299"
  ospf_area_id                                = "0.0.0.0"
  ospf_auth_enable                            = false
  overlay_mode                                = "cli"
  per_vrf_loopback_auto_provision             = false
  pim_hello_auth_enable                       = false
  pm_enable                                   = false
  enable_rt_intf_stats                        = false
  power_redundancy_mode                       = "ps-redundant"
  replication_mode                            = "Multicast"
  route_map_sequence_number_range             = "1-65534"
  rp_count                                    = 2
  rp_lb_id                                    = 254
  rp_mode                                     = "asm"
  rr_count                                    = 2
  service_network_vlan_range                  = "3000-3199"
  sla_id_range                                = "10000-19999"
  snmp_server_host_trap                       = true
  static_underlay_ip_alloc                    = false
  stp_root_option                             = "unmanaged"
  strict_cc_mode                              = false
  subinterface_range                          = "2-511"
  subnet_range                                = "10.4.0.0/16"
  subnet_target_mask                          = 30
  tcam_allocation                             = true
  underlay_is_v6                              = false
  use_link_local                              = true
  v6_subnet_target_mask                       = 126
  vpc_auto_recovery_time                      = 360
  vpc_delay_restore                           = 150
  vpc_domain_id_range                         = "1-1000"
  vpc_enable_ipv6_nd_sync                     = true
  vpc_peer_keep_alive_option                  = "management"
  vpc_peer_link_po                            = 500
  vpc_peer_link_vlan                          = 3600
  vrf_lite_autoconfig                         = "Manual"
  vrf_vlan_range                              = "2000-2299"
  default_network                             = "Default_Network_Universal"
  default_vrf                                 = "Default_VRF_Universal"
  network_extension_template                  = "Default_Network_Extension_Universal"
  vrf_extension_template                      = "Default_VRF_Extension_Universal"
  deploy                                      = false
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `bgp_as` (String) 1-4294967295 | 1-65535.0-65535 It is a good practice to have a unique ASN for each Fabric.
- `deploy` (Boolean) This flag does configuration save and deploy, this is only applicable in update case not valid for fabric creation.
- `fabric_name` (String) Fabric name to be created, updated or deleted

### Optional

- `aaa_remote_ip_enabled` (Boolean) Enable only, when IP Authorization is enabled in the AAA Server
- `aaa_server_conf` (String) AAA Configurations
- `advertise_pip_bgp` (Boolean) For Primary VTEP IP Advertisement As Next-Hop Of Prefix Routes
- `advertise_pip_on_border` (Boolean) Enable advertise-pip on vPC borders and border gateways only. Applicable only when vPC advertise-pip is not enabled
- `anycast_bgw_advertise_pip` (Boolean) To advertise Anycast Border Gateway PIP as VTEP. Effective on MSD fabric Recalculate Config
- `anycast_gw_mac` (String) Shared MAC address for all leafs (xxxx.xxxx.xxxx)
- `anycast_lb_id` (Number) Used for vPC Peering in VXLANv6 Fabrics
- `anycast_rp_ip_range` (String) Anycast or Phantom RP IP Address Range
- `auto_symmetric_default_vrf` (Boolean) Whether to auto generate Default VRF interface and BGP peering configuration on managed neighbor devices. If set, auto created VRF Lite IFC links will have Auto Deploy Default VRF for Peer enabled.
- `auto_symmetric_vrf_lite` (Boolean) Whether to auto generate VRF LITE sub-interface and BGP peering configuration on managed neighbor devices. If set, auto created VRF Lite IFC links will have Auto Deploy for Peer enabled.
- `auto_unique_vrf_lite_ip_prefix` (Boolean) When enabled, IP prefix allocated to the VRF LITE IFC is not reused on VRF extension over VRF LITE IFC. Instead, unique IP Subnet is allocated for each VRF extension over VRF LITE IFC.
- `auto_vrflite_ifc_default_vrf` (Boolean) Whether to auto generate Default VRF interface and BGP peering configuration on VRF LITE IFC auto deployment. If set, auto created VRF Lite IFC links will have Auto Deploy Default VRF enabled.
- `banner` (String) Message of the Day (motd) banner. Delimiter char (very first char is delimiter char) followed by message ending with delimiter)
- `bfd_auth_enable` (Boolean) Valid for P2P Interfaces only
- `bfd_auth_key` (String) Encrypted SHA1 secret value
- `bfd_auth_key_id` (Number) No description available
- `bfd_enable` (Boolean) Valid for IPv4 Underlay only
- `bfd_ibgp_enable` (Boolean) No description available
- `bfd_isis_enable` (Boolean) No description available
- `bfd_ospf_enable` (Boolean) No description available
- `bfd_pim_enable` (Boolean) No description available
- `bgp_auth_enable` (Boolean) No description available
- `bgp_auth_key` (String) Encrypted BGP Authentication Key based on type
- `bgp_auth_key_type` (Number) BGP Key Encryption Type: 3 - 3DES, 7 - Cisco
- `bgp_lb_id` (Number) No description available
- `bootstrap_conf` (String) Additional CLIs required during device bootup/login e.g. AAA/Radius
- `bootstrap_enable` (Boolean) Automatic IP Assignment For POAP
- `bootstrap_multisubnet` (String) 'lines with # prefix are ignored here'
- `brownfield_network_name_format` (String) Generated network name should be < 64 characters
- `brownfield_skip_overlay_network_attachments` (Boolean) Enable to skip overlay network interface attachments for Brownfield and Host Port Resync cases
- `cdp_enable` (Boolean) Enable CDP on management interface
- `copp_policy` (String) Fabric Wide CoPP Policy. Customized CoPP policy should be provided when manual is selected
- `dci_subnet_range` (String) Address range to assign P2P Interfabric Connections
- `dci_subnet_target_mask` (Number) No description available
- `default_network` (String) Default Overlay Network Template For Leafs
- `default_pvlan_sec_network` (String) Default PVLAN Secondary Network Template
- `default_queuing_policy_cloudscale` (String) Queuing Policy for all 92xx, -EX, -FX, -FX2, -FX3, -GX series switches in the fabric
- `default_queuing_policy_other` (String) Queuing Policy for all other switches in the fabric
- `default_queuing_policy_r_series` (String) Queuing Policy for all R-Series switches in the fabric
- `default_vrf` (String) Default Overlay VRF Template For Leafs
- `default_vrf_redis_bgp_rmap` (String) Route Map used to redistribute BGP routes to IGP in default vrf in auto created VRF Lite IFC links
- `dhcp_enable` (Boolean) Automatic IP Assignment For POAP From Local DHCP Server
- `dhcp_end` (String) End Address For Switch POAP
- `dhcp_ipv6_enable` (String) No description available
- `dhcp_start` (String) Start Address For Switch POAP
- `dns_server_ip_list` (String) Comma separated list of IP Addresses(v4/v6)
- `dns_server_vrf` (String) One VRF for all DNS servers or a comma separated list of VRFs, one per DNS server
- `enable_aaa` (Boolean) Include AAA configs from Manageability tab during device bootup
- `enable_default_queuing_policy` (Boolean) No description available
- `enable_fabric_vpc_domain_id` (Boolean) (Not Recommended)
- `enable_macsec` (Boolean) Enable MACsec in the fabric
- `enable_netflow` (Boolean) Enable Netflow on VTEPs
- `enable_ngoam` (Boolean) Enable the Next Generation (NG) OAM feature for all switches in the fabric to aid in trouble-shooting VXLAN EVPN fabrics
- `enable_nxapi` (Boolean) Enable HTTPS NX-API
- `enable_nxapi_http` (Boolean) No description available
- `enable_pbr` (Boolean) When ESR option is ePBR, enable ePBR will enable pbr, sla sender and epbr features on the switch
- `enable_pvlan` (Boolean) Enable PVLAN on switches except spines and super spines
- `enable_realtime_backup` (Boolean) Backup hourly only if there is any config deployment since last backup
- `enable_rt_intf_stats` (Boolean) Valid for NX-OS only
- `enable_scheduled_backup` (Boolean) Backup at the specified time
- `enable_tenant_dhcp` (Boolean) No description available
- `enable_trm` (Boolean) For Overlay Multicast Support In VXLAN Fabrics
- `enable_vpc_peer_link_native_vlan` (Boolean) No description available
- `extra_conf_intra_links` (String) Additional CLIs For All Intra-Fabric Links
- `extra_conf_leaf` (String) Additional CLIs For All Leafs As Captured From Show Running Configuration
- `extra_conf_spine` (String) Additional CLIs For All Spines As Captured From Show Running Configuration
- `extra_conf_tor` (String) Additional CLIs For All ToRs As Captured From Show Running Configuration
- `fabric_interface_type` (String) Numbered(Point-to-Point) or Unnumbered
- `fabric_mtu` (Number) Must be an even number
- `fabric_vpc_domain_id` (Number) vPC Domain Id to be used on all vPC pairs
- `fabric_vpc_qos` (Boolean) Qos on spines for guaranteed delivery of vPC Fabric Peering communication
- `fabric_vpc_qos_policy_name` (String) Qos Policy name should be same on all spines
- `feature_ptp` (Boolean) No description available
- `grfield_debug_flag` (String) Enable to clean switch configuration without reload when PreserveConfig=no
- `hd_time` (Number) NVE Source Inteface HoldDown Time in seconds
- `host_intf_admin_state` (Boolean) No description available
- `ibgp_peer_template` (String) Speficies the iBGP Peer-Template config used for RR and spines with border role.
- `ibgp_peer_template_leaf` (String) Specifies the config used for leaf, border or border gateway. If this field is empty, the peer template defined in iBGP Peer-Template Config is used on all BGP enabled devices (RRs,leafs, border or border gateway roles.
- `inband_dhcp_servers` (String) Comma separated list of IPv4 Addresses (Max 3)
- `inband_mgmt` (Boolean) Manage switches with only Inband connectivity
- `isis_auth_enable` (Boolean) No description available
- `isis_auth_key` (String) Cisco Type 7 Encrypted
- `isis_auth_keychain_key_id` (Number) No description available
- `isis_auth_keychain_name` (String) No description available
- `isis_level` (String) Supported IS types: level-1, level-2
- `isis_overload_elapse_time` (Number) Clear the overload bit after an elapsed time in seconds
- `isis_overload_enable` (Boolean) When enabled, set the overload bit for an elapsed time after a reload
- `isis_p2p_enable` (Boolean) This will enable network point-to-point on fabric interfaces which are numbered
- `l2_host_intf_mtu` (Number) Must be an even number
- `l2_segment_id_range` (String) Overlay Network Identifier Range
- `l3_partition_id_range` (String) Overlay VRF Identifier Range
- `l3vni_mcast_group` (String) Default Underlay Multicast group IP assigned for every overlay VRF.
- `link_state_routing` (String) Used for Spine-Leaf Connectivity
- `link_state_routing_tag` (String) Underlay Routing Process Tag
- `loopback0_ip_range` (String) Typically Loopback0 IP Address Range
- `loopback0_ipv6_range` (String) Typically Loopback0 IPv6 Address Range
- `loopback1_ip_range` (String) Typically Loopback1 IP Address Range
- `loopback1_ipv6_range` (String) Typically Loopback1 and Anycast Loopback IPv6 Address Range
- `macsec_algorithm` (String) AES_128_CMAC or AES_256_CMAC
- `macsec_cipher_suite` (String) Configure Cipher Suite
- `macsec_fallback_algorithm` (String) AES_128_CMAC or AES_256_CMAC
- `macsec_fallback_key_string` (String) Cisco Type 7 Encrypted Octet String
- `macsec_key_string` (String) Cisco Type 7 Encrypted Octet String
- `macsec_report_timer` (Number) MACsec Operational Status periodic report timer in minutes
- `mgmt_gw` (String) Default Gateway For Management VRF On The Switch
- `mgmt_prefix` (Number) No description available
- `mgmt_v6prefix` (Number) No description available
- `mpls_handoff` (Boolean) No description available
- `mpls_lb_id` (Number) Used for VXLAN to MPLS SR/LDP Handoff
- `mpls_loopback_ip_range` (String) Used for VXLAN to MPLS SR/LDP Handoff
- `mst_instance_range` (String) MST instance range, Example: 0-3,5,7-9, Default is 0
- `multicast_group_subnet` (String) Multicast pool prefix between 8 to 30. A multicast group IP from this pool is used for BUM traffic for each overlay network.
- `netflow_exporter_list` (String) One or Multiple Netflow Exporters
- `netflow_monitor_list` (String) One or Multiple Netflow Monitors
- `netflow_record_list` (String) One or Multiple Netflow Records
- `network_extension_template` (String) Default Overlay Network Template For Borders
- `network_vlan_range` (String) Per Switch Overlay Network VLAN Range
- `ntp_server_ip_list` (String) Comma separated list of IP Addresses(v4/v6)
- `ntp_server_vrf` (String) One VRF for all NTP servers or a comma separated list of VRFs, one per NTP server
- `nve_lb_id` (Number) No description available
- `nxapi_http_port` (Number) No description available
- `nxapi_https_port` (Number) No description available
- `object_tracking_number_range` (String) Per switch tracked object ID Range
- `ospf_area_id` (String) OSPF Area Id in IP address format
- `ospf_auth_enable` (Boolean) No description available
- `ospf_auth_key` (String) 3DES Encrypted
- `ospf_auth_key_id` (Number) No description available
- `overlay_mode` (String) VRF/Network configuration using config-profile or CLI
- `per_vrf_loopback_auto_provision` (Boolean) Auto provision a loopback on a VTEP on VRF attachment
- `per_vrf_loopback_ip_range` (String) Prefix pool to assign IP addresses to loopbacks on VTEPs on a per VRF basis
- `phantom_rp_lb_id1` (Number) Used for Bidir-PIM Phantom RP
- `phantom_rp_lb_id2` (Number) Used for Fallback Bidir-PIM Phantom RP
- `phantom_rp_lb_id3` (Number) Used for second Fallback Bidir-PIM Phantom RP
- `phantom_rp_lb_id4` (Number) Used for third Fallback Bidir-PIM Phantom RP
- `pim_hello_auth_enable` (Boolean) Valid for IPv4 Underlay only
- `pim_hello_auth_key` (String) 3DES Encrypted
- `pm_enable` (Boolean) No description available
- `power_redundancy_mode` (String) Default Power Supply Mode For The Fabric
- `ptp_domain_id` (Number) Multiple Independent PTP Clocking Subdomains on a Single Network
- `ptp_lb_id` (Number) No description available
- `replication_mode` (String) Replication Mode for BUM Traffic
- `route_map_sequence_number_range` (String) No description available
- `router_id_range` (String) No description available
- `rp_count` (Number) Number of spines acting as Rendezvous-Point (RP)
- `rp_lb_id` (Number) No description available
- `rp_mode` (String) Multicast RP Mode
- `rr_count` (Number) Number of spines acting as Route-Reflectors
- `scheduled_time` (String) Time (UTC) in 24hr format. (00:00 to 23:59)
- `seed_switch_core_interfaces` (String) Core-facing Interface list on Seed Switch (e.g. e1/1-30,e1/32)
- `service_network_vlan_range` (String) Per Switch Overlay Service Network VLAN Range
- `site_id` (String) For EVPN Multi-Site Support . Defaults to Fabric ASN
- `sla_id_range` (String) Per switch SLA ID Range
- `snmp_server_host_trap` (Boolean) Configure NDFC as a receiver for SNMP traps
- `spine_switch_core_interfaces` (String) Core-facing Interface list on all Spines (e.g. e1/1-30,e1/32)
- `static_underlay_ip_alloc` (Boolean) Checking this will disable Dynamic Underlay IP Address Allocations
- `stp_bridge_priority` (Number) Bridge priority for the spanning tree in increments of 4096
- `stp_root_option` (String) Which protocol to use for configuring root bridge? rpvst+: Rapid Per-VLAN Spanning Tree, mst: Multiple Spanning Tree, unmanaged (default): STP Root not managed by NDFC
- `stp_vlan_range` (String) Vlan range, Example: 1,3-5,7,9-11, Default is 1-3967
- `strict_cc_mode` (Boolean) Enable bi-directional compliance checks to flag additional configs in the running config that are not in the intent/expected config
- `subinterface_range` (String) Per Border Dot1q Range For VRF Lite Connectivity
- `subnet_range` (String) Address range to assign Numbered and Peer Link SVI IPs
- `subnet_target_mask` (Number) Mask for Underlay Subnet IP Range
- `syslog_server_ip_list` (String) Comma separated list of IP Addresses(v4/v6)
- `syslog_server_vrf` (String) One VRF for all Syslog servers or a comma separated list of VRFs, one per Syslog server
- `syslog_sev` (String) Comma separated list of Syslog severity values, one per Syslog server
- `tcam_allocation` (Boolean) TCAM commands are automatically generated for VxLAN and vPC Fabric Peering when Enabled
- `underlay_is_v6` (Boolean) If not enabled, IPv4 underlay is used
- `unnum_bootstrap_lb_id` (Number) No description available
- `unnum_dhcp_end` (String) Must be a subset of IGP/BGP Loopback Prefix Pool
- `unnum_dhcp_start` (String) Must be a subset of IGP/BGP Loopback Prefix Pool
- `use_link_local` (Boolean) If not enabled, Spine-Leaf interfaces will use global IPv6 addresses
- `v6_subnet_range` (String) IPv6 Address range to assign Numbered and Peer Link SVI IPs
- `v6_subnet_target_mask` (Number) Mask for Underlay Subnet IPv6 Range
- `vpc_auto_recovery_time` (Number) No description available
- `vpc_delay_restore` (Number) No description available
- `vpc_domain_id_range` (String) vPC Domain id range to use for new pairings
- `vpc_enable_ipv6_nd_sync` (Boolean) Enable IPv6 ND synchronization between vPC peers
- `vpc_peer_keep_alive_option` (String) Use vPC Peer Keep Alive with Loopback or Management
- `vpc_peer_link_po` (Number) No description available
- `vpc_peer_link_vlan` (Number) VLAN range for vPC Peer Link SVI
- `vrf_extension_template` (String) Default Overlay VRF Template For Borders
- `vrf_lite_autoconfig` (String) VRF Lite Inter-Fabric Connection Deployment Options. If Back2Back&ToExternal is selected, VRF Lite IFCs are auto created between border devices of two Easy Fabrics, and between border devices in Easy Fabric and edge routers in External Fabric. The IP address is taken from the VRF Lite Subnet IP Range pool.
- `vrf_vlan_range` (String) Per Switch Overlay VRF VLAN Range

### Read-Only

- `deployment_status` (String) This fields shows the actual status of the deployment. It can be one of the following: Deployment pending Deployment successful
- `id` (String) Terraform unique Id for the fabric resource
