---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "ndfc_vrfs Resource - terraform-provider-ndfc"
subcategory: ""
description: |-
  Resource for NDFC vrf management. This resource allows you to manage multiple VRFs in a fabric.
---

# ndfc_vrfs (Resource)

Resource for NDFC vrf management. This resource allows you to manage multiple VRFs in a fabric.

## Example Usage

```terraform
resource "ndfc_vrfs" "test_resource_vrfs_1" {
  fabric_name            = "CML"
  deploy_all_attachments = true
  vrfs = {
    "VRF1" = {
      vrf_template                   = "Default_VRF_Universal"
      vrf_extension_template         = "Default_VRF_Extension_Universal"
      vrf_id                         = 50000
      vlan_id                        = 1500
      vlan_name                      = "VLAN1500"
      interface_description          = "My int description"
      vrf_description                = "My vrf description"
      mtu                            = 9200
      loopback_routing_tag           = 11111
      redistribute_direct_route_map  = "FABRIC-RMAP-REDIST"
      max_bgp_paths                  = 2
      max_ibgp_paths                 = 3
      ipv6_link_local                = false
      no_rp                          = false
      rp_external                    = true
      overlay_multicast_groups       = "234.0.0.0/8"
      mvpn_inter_as                  = false
      trm_bgw_msite                  = true
      advertise_host_routes          = true
      advertise_default_route        = false
      configure_static_default_route = false
      bgp_password                   = "1234567890ABCDEF"
      bgp_password_type              = "7"
      netflow                        = false
      netflow_monitor                = "MON1"
      disable_rt_auto                = true
      route_target_import            = "1:1"
      route_target_export            = "1:1"
      route_target_import_evpn       = "1:1"
      route_target_export_evpn       = "1:1"
      route_target_import_cloud_evpn = "1:1"
      route_target_export_cloud_evpn = "1:1"
      deploy_attachments             = false
      attach_list = {
        "SWITCH_SERIAL_NO" = {
          vlan                   = 1500
          deploy_this_attachment = false
          loopback_id            = 101
          loopback_ipv4          = "1.2.3.4"
          loopback_ipv6          = "2001::1"
        }
      }

    }
  }

}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `fabric_name` (String) The name of the fabric
- `vrfs` (Attributes Map) List of vrfs (see [below for nested schema](#nestedatt--vrfs))

### Optional

- `deploy_all_attachments` (Boolean) If set to `true`, does a deployment of all attachments in this resource after any operation. This parameter cannot be set to `true` if  `deploy_attachments` in the vrf is set or `deploy_this_attachment` in the  `attach-list` is set

### Read-Only

- `id` (String) Terraform unique Id for the resource

<a id="nestedatt--vrfs"></a>
### Nested Schema for `vrfs`

Optional:

- `advertise_default_route` (Boolean) Flag to Control Advertisement of Default Route Internally
- `advertise_host_routes` (Boolean) Flag to Control Advertisement of /32 and /128 Routes to Edge Routers
- `attach_list` (Attributes Map) List of switches attached to the VRF (see [below for nested schema](#nestedatt--vrfs--attach_list))
- `bgp_password` (String) VRF Lite BGP neighbor password (Hex String)
- `bgp_password_type` (String) VRF Lite BGP Key Encryption Type: 3 - 3DES, 7 - Cisco
- `configure_static_default_route` (Boolean) Flag to Control Static Default Route Configuration
- `deploy_attachments` (Boolean) If set to `true`, does a deployment of all attachments in this `vrf`. This parameter cannot be set to `true` if  `deploy_all_attachments` in the resource is set or `deploy_this_attachment` in the  `attach-list` is set
- `disable_rt_auto` (Boolean) Applicable to IPv4, IPv6 VPN/EVPN/MVPN
- `interface_description` (String) Interface description
- `ipv6_link_local` (Boolean) Enables IPv6 link-local Option under VRF SVI
- `loopback_routing_tag` (Number) Loopback routing tag
- `max_bgp_paths` (Number) Maximum BGP paths
- `max_ibgp_paths` (Number) Maximum iBGP paths
- `mtu` (Number) Interface MTU
- `mvpn_inter_as` (Boolean) Use the inter-as keyword for the MVPN address family routes to cross the BGP autonomous system (AS) boundaries, applicable when TRM is enabled. IOS XE Specific
- `netflow` (Boolean) For netflow on VRF-LITE Sub-interface. Supported only if netflow is enabled on fabric. For NX-OS only
- `netflow_monitor` (String) Netflow monitor. For NX-OS only
- `no_rp` (Boolean) There is no RP as only SSM is used
- `overlay_multicast_groups` (String) Overlay multicast groups
- `redistribute_direct_route_map` (String) Redistribute direct route map
- `route_target_export` (String) For VPN Routes Export, One or a Comma Separated List
- `route_target_export_cloud_evpn` (String) For Cloud EVPN Routes Export, One or a Comma Separated List
- `route_target_export_evpn` (String) For EVPN Routes Export, One or a Comma Separated List
- `route_target_export_mvpn` (String) For MVPN Routes Export, One or a Comma Separated List
- `route_target_import` (String) For VPN Routes Import, One or a Comma Separated List
- `route_target_import_cloud_evpn` (String) For Cloud EVPN Routes Import, One or a Comma Separated List
- `route_target_import_evpn` (String) For EVPN Routes Import, One or a Comma Separated List
- `route_target_import_mvpn` (String) For MVPN Routes Import, One or a Comma Separated List
- `rp_address` (String) IPv4 address
- `rp_external` (Boolean) Is RP external to the fabric
- `rp_loopback_id` (Number) RP loopback ID
- `trm` (Boolean) Enable Tenant Routed Multicast
- `trm_bgw_msite` (Boolean) Enable TRM on Border Gateway Multisite
- `underlay_multicast_address` (String) IPv4 Multicast Address. Applicable only when TRM is enabled.
- `vlan_id` (Number) VLAN ID
- `vlan_name` (String) VLAN name
- `vrf_description` (String) VRF description
- `vrf_extension_template` (String) The name of the VRF extension template
- `vrf_id` (Number) VNI ID of VRF
- `vrf_template` (String) The name of the VRF template

Read-Only:

- `vrf_status` (String) VRF Deployment status

<a id="nestedatt--vrfs--attach_list"></a>
### Nested Schema for `vrfs.attach_list`

Optional:

- `deploy_this_attachment` (Boolean) If set to `true`, does a deployment of the attachment. This parameter cannot be set to `true` if  `deploy_all_attachments` in the resource is set or `deploy_attachment` in the corresponding `vrf` is set
- `freeform_config` (String) This field covers any configuration not included in overlay templates which is needed as part of this VRF attachment
- `loopback_id` (Number) Override loopback ID
- `loopback_ipv4` (String) Override loopback IPv4 address
- `loopback_ipv6` (String) Override loopback IPv6 address
- `vlan` (Number) VLAN ID

Read-Only:

- `attach_state` (String) The state of the attachment
- `attached` (Boolean) The state of the attachment
- `switch_name` (String) The name of the switch

## Import

Import is supported using the following syntax:

```shell
# Format of ID used for import:
# fabric_name/[comma separated list of vrfs to be imported]
terraform import ndfc_vrfs.test_resource_vrfs fabric_cml/[vrf1,vrf2,vrf3,vrf4]
```
