---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "ndfc_networks Resource - terraform-provider-ndfc"
subcategory: ""
description: |-
  This resource can be used to manage networks on a fabric. Single resource handles multiple networks.
---

# ndfc_networks (Resource)

This resource can be used to manage networks on a fabric. Single resource handles multiple networks.

## Example Usage

```terraform
resource "ndfc_networks" "test_resource_networks_1" {
  fabric_name            = "CML"
  deploy_all_attachments = true
  networks = {
    "NET1" = {
      display_name               = "NET1"
      network_id                 = 30001
      network_template           = "Default_Network_Universal"
      network_extension_template = "Default_Network_Extension_Universal"
      vrf_name                   = "VRF1"
      primary_network_id         = 30000
      network_type               = "Normal"
      gateway_ipv4_address       = "192.0.2.1/24"
      gateway_ipv6_address       = "2001:db8::1/64"
      vlan_id                    = 1600
      vlan_name                  = "VLAN2000"
      layer2_only                = false
      interface_description      = "My int description"
      mtu                        = 9200
      secondary_gateway_1        = "192.168.2.1/24"
      secondary_gateway_2        = "192.168.3.1/24"
      secondary_gateway_3        = "192.168.4.1/24"
      secondary_gateway_4        = "192.168.5.1/24"
      arp_suppression            = false
      ingress_replication        = false
      multicast_group            = "233.1.1.1"
      dhcp_relay_loopback_id     = 134
      routing_tag                = 11111
      trm                        = true
      route_target_both          = true
      netflow                    = false
      svi_netflow_monitor        = "MON1"
      vlan_netflow_monitor       = "MON1"
      l3_gatway_border           = true
      igmp_version               = "3"
      deploy_attachments         = false
      attachments = {
        "FDO245206N5" = {
          vlan                   = 1600
          deploy_this_attachment = false
          switch_ports           = ["Ethernet1/1", "Ethernet1/2"]
        }
      }

    }
  }

}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `fabric_name` (String) The name of the fabric
- `networks` (Attributes Map) List of networks (see [below for nested schema](#nestedatt--networks))

### Optional

- `deploy_all_attachments` (Boolean) If set to `true`, do a deployment of all attachments in this resource. This parameter cannot be `true` if either  `deploy_attachments` inside any `network` or `deploy_this_attachment` in any `attachments` is set to `true`

### Read-Only

- `id` (String) Terraform unique Id for the resource

<a id="nestedatt--networks"></a>
### Nested Schema for `networks`

Optional:

- `arp_suppression` (Boolean) ARP suppression is only supported if SVI is present when Layer-2-Only is not enabled. NX-OS Specific.
- `attachments` (Attributes Map) List of switches attached to the net (see [below for nested schema](#nestedatt--networks--attachments))
- `deploy_attachments` (Boolean) If set to `true`, deploys all attachments in the network. This parameter cannot be `true` if `deploy_all_attachments` at resource level is set to `true` or `deploy_this_attachment` in any `attachments` is set to `true`
- `dhcp_relay_loopback_id` (Number) Loopback ID for DHCP Relay interface
- `dhcp_relay_servers` (Attributes List) List of DHCP relay servers (see [below for nested schema](#nestedatt--networks--dhcp_relay_servers))
- `display_name` (String) Customized name of the network. By default, it will be same as the network name
- `gateway_ipv4_address` (String) Gateway IPv4 address, for example `192.0.2.1/24`
- `gateway_ipv6_address` (String) Gateway IPv6 addresses, for example `2001:db8::1/64,2001:db9::1/64`
- `igmp_version` (String) IGMP version
- `ingress_replication` (Boolean) Ingress replication flag. Read-only per network, Fabric-wide setting.
- `interface_description` (String) Interface description
- `l3_gatway_border` (Boolean) Enable L3 Gateway on Border
- `layer2_only` (Boolean) Layer-2 only flag
- `mtu` (Number) MTU for L3 interface
- `multicast_group` (String) Multicast group address
- `netflow` (Boolean) Netflow enable flag. Netflow is supported only if it is enabled on fabric. For NX-OS only.
- `network_extension_template` (String) The name of the network extension template. Applicable to Switch(es) with role Border
- `network_id` (Number) VNI ID of the network
- `network_template` (String) The name of the network template. This is only applicable for leaf switches
- `network_type` (String) Network Type
- `primary_network_id` (Number) Primary network VNI ID. This is applicable only when PVLAN is enabled in fabric.
- `route_target_both` (Boolean) L2 VNI Route-Target Both Enable. NX-OS specific.
- `routing_tag` (Number) Routing tag
- `secondary_gateway_1` (String) IPv4 Secondary GW1
- `secondary_gateway_2` (String) IPv4 Secondary GW2
- `secondary_gateway_3` (String) IPv4 Secondary GW3
- `secondary_gateway_4` (String) IPv4 Secondary GW4
- `svi_netflow_monitor` (String) Interface Vlan Netflow Monitor. Applicable only if 'Layer 2 Only' is not enabled. Provide monitor name defined in fabric setting for Layer 3 Record. For NX-OS only.
- `trm` (Boolean) Enable Tenant Routed Multicast
- `vlan_id` (Number) VLAN ID
- `vlan_name` (String) Vlan name. If > 32 chars, enable 'system vlan long-name' for NX-OS, disable VTPv1 and VTPv2 or switch to VTPv3 for IOS XE.
- `vlan_netflow_monitor` (String) Vlan Netflow Monitor. Provide monitor name defined in fabric setting for Layer 3 Record. For NX-OS only
- `vrf_name` (String) The name of the vrf

Read-Only:

- `network_status` (String) Network status

<a id="nestedatt--networks--attachments"></a>
### Nested Schema for `networks.attachments`

Optional:

- `deploy_this_attachment` (Boolean) If set to `true`, deploys this attachment. This cannot be set to `true` if `deploy_all_attachments` at resource level is set to `true` or `deploy_attachments` in the corresponding `network` is set to `true`
- `display_name` (String) The name of the switch
- `freeform_config` (String) This field covers any configuration not included in overlay templates which is needed as part of this VRF attachment
- `instance_values` (String) Instance values
- `switch_ports` (Set of String) List of switch ports
- `tor_ports` (Set of String) List of TOR ports
- `vlan` (Number) VLAN ID

Read-Only:

- `attach_state` (String) The state of the attachment
- `attached` (Boolean) The state of the attachment
- `switch_name` (String) The name of the switch


<a id="nestedatt--networks--dhcp_relay_servers"></a>
### Nested Schema for `networks.dhcp_relay_servers`

Optional:

- `address` (String) Server IP V4 Address
- `vrf` (String) Server VRF. If management vrf, enter 'management'. If default/global vrf, enter 'default'.

## Import

Import is supported using the following syntax:

```shell
# Format of ID used for import:
# fabric_name/[comma separated list of networks]
terraform import ndfc_networks.test_resource_networks fabric_vxlan/[net1, net2, net3]
```
