# Terraform Plugin Code Generation for Cisco NDFC
This generation uses home grown `tfgenerator` and hashicorp's `tfplugin-generate` tools
This tool relies on `tfplugin-generate` framework from Hashicorp for generating the resource/datasource schema

## Prerequisites 
Install **Terraform Framework Code Generator**      
https://developer.hashicorp.com/terraform/plugin/code-generation/framework-generator    
```
go install github.com/hashicorp/terraform-plugin-codegen-framework/cmd/tfplugingen-framework@latest    

Download and install generator tool            
Repo: https://github.com/mdmohan/tfgenerator    
Clone the repo and run `go install`    
Binary  `$GOPATH/bin/generator`

### Workflow
For detailed working of the tool, checkout the docs in https://github.com/mdmohan/tfgenerator
Here are the steps to generate code for a resource

* Create the yaml definition file for the resource under generator/defs folder
See https://github.com/mdmohan/tfgenerator/blob/main/generator/Field-help.md for detailed help on the fields
* Update generator/defs/defs.yaml with the new resource file name   
* Run `go generate` 

On successful completion following files are generated

* internal/provider/resources/resource_<resource_name>/<resource_name>_resouce_gen.go
File generated by terraform plugin which contains the Schema definitions

* internal/provider/resources/resource_<resource_name>/resource_codec_gen.go
This file contains the code to convert the TF Model structure to native Go structure

* internal/provider/resources/resource_<resource_name>/resource_compare_gen.go 
Auto generated functions for compating 2 model objects similar to Go's DeepEqual







